ุงูู ุตูุญู ุฑุง ุจู ุฒุจุงูโูุง ุฏฺฏุฑ ุจุฎูุงูุฏ: [English](/sorting/tim-sort/README.md)

# ๐ข ุงูฺฏูุฑุชู ูุฑุชุจโุณุงุฒ ุชู

ฺฉ ุงูฺฏูุฑุชู ูุฑุชุจโุณุงุฒ **ุชุฑฺฉุจ**, **ูพุงุฏุงุฑ** ู **ุฎูุฏุณุงุฒฺฏุงุฑ** ุงุณุช ฺฉู ุงุฒ **ุงุฏุบุงู** ู **ุฏุฑุฌ** ฺฏุฑูุชู ุดุฏู ู ุจุฑุง ุนููฺฉุฑุฏ ุนุงู ุฑู ุฏุงุฏูโูุง ุฏูุง ูุงูุน ุทุฑุงุญ ุดุฏู ุงุณุช.

ุงู ุงูฺฏูุฑุชู ุชูุณุท **ุชู ูพุชุฑุฒ** ุฏุฑ ุณุงู ฒฐฐฒ ุจุฑุง **ุฒุจุงู ุจุฑูุงููโููุณ ูพุงุชูู** ุงุฎุชุฑุงุน ุดุฏ ู ุงฺฉููู ุฏุฑ ุณุณุชูโูุง ุฒุฑ ุงุณุชูุงุฏู ูโุดูุฏ:

โโป๏ธ โ `sorted()` ู `list.sort()` ุฏุฑ ูพุงุชูู

โโป๏ธ โ `Arrays.sort()` ุฏุฑ ุฌุงูุง ุจุฑุง ุงุดุง

โโป๏ธ โ SDK ุงูุฏุฑูุฏ

โโป๏ธ โ ููุชูุฑ ุฌุงูุงุงุณฺฉุฑูพุช V8

> ๐ก ูุฑุชุจโุณุงุฒ ุชู **ููุท ุณุฑุน ูุณุช** โ **ููุดููุฏ** ูู ูุณุช: ุจุง ุชูุฌู ุจู ุชุฑุชุจ ููุฌูุฏ ุฏุฑ ุฏุงุฏูโูุง ุชุทุจู ูโุงุจุฏ ู ุฑู ุฏุงุฏูโูุง **ุชูุฑุจุงู ูุฑุชุจ**, **ูุนฺฉูุณ**, ุง **ุฏูุง ูุงูุน** ุจุณุงุฑ ฺฉุงุฑุขูุฏ ุนูู ูโฺฉูุฏ.

## ๐ ูพฺุฏฺฏ ุฒูุงู

| ุญุงูุช       | ุฒูุงู         |
|:---------:|:------------:|
| ุจูุชุฑู    | O(n)         |
| ูุชูุณุท     | O(n log n)   |
| ุจุฏุชุฑู   | O(n log n)   |

> โฑ๏ธ ุจูุชุฑู ุญุงูุช: ููุช ุฏุงุฏู ุงุฒ ูุจู ูุฑุชุจ ุง ูุนฺฉูุณ ุจุงุดุฏ  
> โฑ๏ธ ุจุฏุชุฑู ุญุงูุช: ููฺูุงู O(n log n) โ ุจูุชุฑ ุงุฒ ูุฑุชุจโุณุงุฒ ุณุฑุน

## ๐พ ูพฺุฏฺฏ ูุถุง
โโป๏ธ **O(n)** โ ุจู ูุถุง ฺฉูฺฉ ุจุฑุง ุงุฏุบุงู ูุงุฒ ุฏุงุฑุฏ

## โ ฺู ุฒูุงู ุงุฒ ุขู ุงุณุชูุงุฏู ฺฉููุ
โโป๏ธ โ ูุฑุชุจโุณุงุฒ **ุฏุงุฏูโูุง ุฏูุง ูุงูุน** ุจุง ุชุฑุชุจ ุทุจุน (ูุซูุงู ูุงฺฏโูุงุ ูุฑูุฏ ฺฉุงุฑุจุฑ)

โโป๏ธ โ ูุงุฒ ุจู **ูุฑุชุจโุณุงุฒ ูพุงุฏุงุฑ** ุฏุงุฑู (ุชุฑุชุจ ูุณุจ ุนูุงุตุฑ ุจุฑุงุจุฑ ุญูุธ ุดูุฏ)

โโป๏ธ โ ูุฑุชุจโุณุงุฒ **ุงุดุง** ุง ุฏุงุฏูโูุง ูพฺุฏู

โโป๏ธ โ ูโุฎูุงูู ุงุฒ **ุนููฺฉุฑุฏ ฺฉ ูุฑุชุจโุณุงุฒ ฺฉุชุงุจุฎุงููโุง** ุงุณุชูุงุฏู ฺฉูู

๐ซ ููุงุณุจ ูุณุช ุจุฑุง:

โโป๏ธ ูุญุทโูุง ุจุง ุญุงูุธู ูุญุฏูุฏ (ุจู ุฏูู ูุถุง O(n))

โโป๏ธ ุณุณุชูโูุง ุชุนุจูโุดุฏู

โโป๏ธ ุขููุฒุด ูุฑุชุจโุณุงุฒ ูพุงู (ุจุฑุง ูุจุชุฏุงู ุจุณุงุฑ ูพฺุฏู ุงุณุช)

## ๐ ูุญูู ฺฉุงุฑฺฉุฑุฏ

ูุฑุชุจโุณุงุฒ ุชู ุจูุชุฑู ุจุฎุดโูุง **ูุฑุชุจโุณุงุฒ ุฏุฑุฌ** (ุณุฑุน ุฑู ุขุฑุงูโูุง ฺฉูฺฺฉ) ู **ุงุฏุบุงู** (ูพุงุฏุงุฑุ O(n log n)) ุฑุง ุจู ููุฑุงู ุจูููโุณุงุฒโูุง ููุดููุฏุงูู ุชุฑฺฉุจ ูโฺฉูุฏ: 

### 1. **ุชูุณู ุจู ูุทุนุงุช (Runs)**
โโป๏ธ ุขุฑุงู ุฑุง ุงุณฺฉู ฺฉุฑุฏู ู **ูุทุนุงุช ฺฉููุงุฎุช** (ุฏูุจุงููโูุง ุตุนูุฏ ุง ูุฒูู ฺฉุงูู) ุฑุง ุดูุงุณุง ูโฺฉูุฏ.

โโป๏ธ ูุทุนุงุช ูุฒูู ุฑุง ูุนฺฉูุณ ูโฺฉูุฏ ุชุง ุตุนูุฏ ุดููุฏ.

โโป๏ธ ุงฺฏุฑ ฺฉ ูุทุนู ุฎู ฺฉูุชุงู ุจุงุดุฏุ ุขู ุฑุง ุจุง ุงุณุชูุงุฏู ุงุฒ **ูุฑุชุจโุณุงุฒ ุฏุฑุฌ** ุชุง ุทูู ุญุฏุงูู (`minrun`) ฺฏุณุชุฑุด ูโุฏูุฏ.

### 2. **ุงูุชุฎุงุจ `minrun`**
โโป๏ธ ุงูุฏุงุฒูโุง ฺฉูฺฺฉ (ณฒ ุชุง ถด) ุงุณุช ฺฉู ุจุฑ ุงุณุงุณ ุงูุฏุงุฒู ุขุฑุงู ุงูุชุฎุงุจ ูโุดูุฏ ุชุง ุชุนุงุฏู ุจู ฺฉุงุฑุง ุงุฏุบุงู ุญูุธ ุดูุฏ.

โโป๏ธ ุชุนุฏุงุฏ ูุทุนุงุช ุฑุง ูุฒุฏฺฉ ุจู ุชูุงู ุงุฒ ฒ ูฺฏู ูโุฏุงุฑุฏ ุชุง ุงุฏุบุงู ุจููู ุจุงุดุฏ.

### 3. **ูุฑุงุฑ ุฏุงุฏู ูุทุนุงุช ุฏุฑ ูพุดุชู**
โโป๏ธ ฺฉ ูพุดุชู ุงุฒ ูุทุนุงุช ูฺฏู ูโุฏุงุฑุฏ ฺฉู ุฏู ุดุฑุท ุฒุฑ ุฑุง ุฑุนุงุช ูโฺฉููุฏ:

  โฝ `run[-3] > run[-2] + run[-1]`
  
  โฝ `run[-2] > run[-1]`

โโป๏ธ ุงู ุดุฑุงุท ุงุฒ ุงุฏุบุงูโูุง ูุงูุชุนุงุฏู ุฌููฺฏุฑ ฺฉุฑุฏู ู ุนููฺฉุฑุฏ O(n log n) ุฑุง ุชุถูู ูโฺฉููุฏ.

### 4. **ุงุฏุบุงู ูุทุนุงุช ููุช ุดุฑุงุท ุดฺฉุณุชู ุดููุฏ**
โป๏ธ ููุช ุดุฑุงุท ุจุงูุง ููุถ ุดููุฏุ ูุทุนุงุช ุฑุง ุงุฒ ูพุดุชู ุงุฏุบุงู ูโฺฉูุฏ.

โป๏ธ ุฏุฑ ุญู ุงุฏุบุงู ุงุฒ **ุญุงูุช ูพุฑุด (galloping mode)** ุงุณุชูุงุฏู ูโฺฉูุฏ ุชุง ุนูุงุตุฑ ุฑุง ุณุฑุน ุฑุฏ ฺฉูุฏ ููุช ฺฉ ูุทุนู ุจู ุทูุฑ ูุฏุงูู ฺฉูฺฺฉโุชุฑ ุจุงุดุฏ.

### 5. **ุงุฏุบุงู ููุง**
โป๏ธ ูพุณ ุงุฒ ูพุฑุฏุงุฒุด ุชูุงู ุนูุงุตุฑุ ุชูุงู ูุทุนุงุช ุจุงูโูุงูุฏู ุฑุง ุจู ฺฉ ุขุฑุงู ูุฑุชุจ ุชุจุฏู ูโฺฉูุฏ.

---

### ๐ ูุซุงู ฺฏุงู ุจู ฺฏุงู

ุขุฑุงู ุฒุฑ ุฑุง ูุฑุชุจ ูโฺฉูู:  
`โญ[10, 9, 8, 7, 15, 16, 17, 3, 2, 1, 12, 13, 14, 18, 19, 20]โฌ`

ุงู ุขุฑุงู ุดุงูู ููุงุฑุฏ ุฒุฑ ุงุณุช:

โป๏ธ ฺฉ ูุทุนู ูุฒูู: `โญ[10, 9, 8, 7]โฌ`

โป๏ธ ฺฉ ูุทุนู ุตุนูุฏ: `โญ[15, 16, 17]โฌ`

โป๏ธ ฺฉ ูุทุนู ูุฒูู ุฏฺฏุฑ: `โญ[3, 2, 1]โฌ`

โป๏ธ ฺฉ ูุทุนู ุตุนูุฏ ุจููุฏ: `โญ[12, 13, 14, 18, 19, 20]โฌ`

ุงู ุฏุงุฏู **ุงุฏูโุขู ุจุฑุง ูุฑุชุจโุณุงุฒ ุชู** ุงุณุช โ ุงู ุงูฺฏูุฑุชู ูโุชูุงูุฏ ุงุฒ **ููู ุชุฑุชุจโูุง ููุฌูุฏ** ุจูุฑู ุจุจุฑุฏ.

---

#### ๐ข ูุฑุญูู ฑ: ูุญุงุณุจู `minrun`

ุจุฑุง `n = 16`ุ ูุฑุชุจโุณุงุฒ ุชู `minrun` ุฑุง ุจู ุงู ุตูุฑุช ูุญุงุณุจู ูโฺฉูุฏ:

1โซ๏ธ ูพูุฌ ุจุช ุจุงูุง `n` ุฑุง ุจฺฏุฑุฏ (16 = `10000` ุฏุฑ ูุจูุง ุฏู)

2โซ๏ธ ุงฺฏุฑ ุจุชโูุง ุจุงูโูุงูุฏู ุบุฑุตูุฑ ุจูุฏูุฏุ ฑ ุงุถุงูู ฺฉูุฏ

3โซ๏ธ ูุชุฌู: `minrun = 16` โ ุงูุง ุงู ุฎู ุจุฒุฑฺฏ ุงุณุช!

ุฏุฑ ุนููุ `minrun` ุจู **ณฒ ุชุง ถด** ูุญุฏูุฏ ูโุดูุฏ.  
ุงูุง ุจุฑุง ุงู ุขุฑุงู ฺฉูฺฺฉุ ุงุฒ ฺฉ ูุงููู ุณุงุฏูโุดุฏู ุงุณุชูุงุฏู ูโฺฉูู:  

> **`minrun = max(2, min(n/4, 32))`** โ `minrun = 4`

โ ุจูุงุจุฑุงู ูุฑ ูุทุนู ุจุงุฏ **ุญุฏุงูู ด ุนูุตุฑ ุฏุงุดุชู ุจุงุดุฏ**.

#### ๐ ูุฑุญูู ฒ: ูพุฏุง ฺฉุฑุฏู ู ูพุฑุฏุงุฒุด ูุทุนุงุช

ูุง ุงุฒ ฺูพ ุจู ุฑุงุณุช ุญุฑฺฉุช ูโฺฉูู ู **ูุทุนุงุช ฺฉููุงุฎุช** ุฑุง ุดูุงุณุง ูโฺฉูู.

##### ๐น ูุทุนู ฑ: `โญ[10, 9, 8, 7]โฌ` โ ูุฒูู
โป๏ธ ุจู ุนููุงู ฺฉ ุฏูุจุงูู ฺฉุงููุงู ูุฒูู ุดูุงุณุง ุดุฏ.

โป๏ธ ูุนฺฉูุณ ฺฉูุฏ โ `โญ[7, 8, 9, 10]โฌ`

โป๏ธ ุทูู = ด โฅ `minrun` โ ุจู ูพุดุชู ุงุถุงูู ฺฉูุฏ  
  โ ูพุดุชู: `โญ[ [7,8,9,10] ]โฌ`

##### ๐น ูุทุนู ฒ: `โญ[15, 16, 17]โฌ` โ ุตุนูุฏุ ุงูุง ุทูู = ณ < `minrun`
โป๏ธ ฺฏุณุชุฑุด ุฏูุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ **ูุฑุชุจโุณุงุฒ ุฏุฑุฌ** ุจุง ุนูุตุฑ ุจุนุฏ: `3`

โป๏ธ ุญุงูุง `โญ[15,16,17,3]โฌ` โ ุจุง ุงุณุชูุงุฏู ุงุฒ **ุฏุฑุฌ** ูุฑุชุจ ฺฉูุฏ โ `โญ[3,15,16,17]โฌ`

โป๏ธ  ุทูู = ด โ ุจู ูพุดุชู ุงุถุงูู ฺฉูุฏ 
  โ ูพุดุชู: `โญ[ [7,8,9,10], [3,15,16,17] ]โฌ`

##### ๐น ูุทุนู ณ: `โญ[2, 1]โฌ` โ ูุฒููุ ุทูู = ฒ < `minrun`
โป๏ธ ูุนฺฉูุณ ฺฉูุฏ โ `โญ[1, 2]โฌ`

โป๏ธ ุจุง ุนูุตุฑ ุจุนุฏ ฺฏุณุชุฑุด ุฏูุฏ: `[12]` โ ูููุฒ ฺฉูุชุงู ุงุณุช

โป๏ธ `[13]` ุฑุง ุงุถุงูู ฺฉูุฏ โ ุญุงูุง `โญ[1,2,12,13]โฌ` (ุทูู ด)

โป๏ธ ุงุฒ ูุจู ูุฑุชุจ ุงุณุช โ ุงุถุงูู ฺฉูุฏ  
  ูพุดุชู: `โญ[ [7,8,9,10], [3,15,16,17], [1,2,12,13] ]โฌ`

##### ๐น ูุทุนู ด: `โญ[14, 18, 19, 20]โฌ` โ ุตุนูุฏุ ุทูู = ด โฅ `minrun`
โป๏ธ ุจุฏูู ุชุบุฑ ุงุถุงูู ุดูุฏ  
  ูพุดุชู: `โญ[ [7,8,9,10], [3,15,16,17], [1,2,12,13], [14,18,19,20] ]โฌ`

---

#### ๐ ูุฑุญูู ณ: ุงุฏุบุงู ูุทุนุงุช ุจุง ุงุณุชูุงุฏู ุงุฒ ุดุฑุงุท ูพุดุชู

ูุฑุชุจโุณุงุฒ ุชู ฺฉ ูพุดุชู ุงุฒ ูุทุนุงุช ูฺฏู ูโุฏุงุฑุฏ ู ุฏู **ุดุฑุท** ุฑุง ุจุฑุง ุฌููฺฏุฑ ุงุฒ ุงุฏุบุงู ูุงูุชุนุงุฏู ุงุนูุงู ูโฺฉูุฏ:
1. `run[i-3] > run[i-2] + run[i-1]`  
2. `run[i-2] > run[i-1]`

ุงฺฏุฑ ููุถ ุดููุฏุ ุฏู ฺฉูฺฺฉโุชุฑู ูุทุนู ุงุฏุบุงู ูโุดููุฏ.

ุงุฌุฑุง ฺฉูู:

##### ๐น ุจุฑุฑุณ ุดุฑุงุท
ุงูุฏุงุฒู ูุทุนุงุช: `[4, 4, 4, 4]`

ุงุฒ ุจุงูุง ุจุฑุฑุณ ฺฉูุฏ:

โป๏ธ `run[-2] > run[-1]` โ `4 > 4` ูุงุฏุฑุณุช โ  โ **ุงุฏุบุงู!**

ุงุฏุบุงู ุฏู ูุทุนู ุจุงูุง: `โญ[1,2,12,13]โฌ` ู `โญ[14,18,19,20]โฌ`  
โ ูุฑ ุฏู ุตุนูุฏ โ ุงุฏุบุงู ุณุงุฏู โ `โญ[1,2,12,13,14,18,19,20]โฌ`

ูพุดุชู ุฌุฏุฏ: `โญ[ [7,8,9,10], [3,15,16,17], [1,2,12,13,14,18,19,20] ]โฌ`  
ุงูุฏุงุฒูโูุง: `โญ[4, 4, 8]โฌ`

ุฏูุจุงุฑู ุจุฑุฑุณ:

โป๏ธ `run[-2] > run[-1]` โ `4 > 8` โ ูุงุฏุฑุณุช โ **ุงุฏุบุงู!**

ุงุฏุบุงู `โญ[3,15,16,17]โฌ` ู `โญ[1,2,12,13,14,18,19,20]โฌ`  
โ ุงุฒ **ุญุงูุช ูพุฑุด (galloping mode)** ุงุณุชูุงุฏู ฺฉูุฏ:

โป๏ธ ููุงุณู `3` ุจุง `1` โ `1` ฺฉูฺฺฉุชุฑ โ ุงุถุงูู ฺฉูุฏ `1` 

โป๏ธ ููุงุณู `3` ุจุง `2` โ `2` ฺฉูฺฺฉุชุฑ โ ุงุถุงูู ฺฉูุฏ `2` 

โป๏ธ ุญุงูุง `3 < 12` โ ุงุถุงูู ฺฉูุฏ `3`  

โป๏ธ ุณูพุณ `โญ[15,16,17]`โฌ ุฑุง ุจู ุชุฑุชุจ ุงุถุงูู ฺฉูุฏ   

โป๏ธ ุณูพุณ ุจูู ุฑุง ุงุถุงูู ฺฉูุฏ

ูุชุฌู: `โญ[1,2,3,12,13,14,15,16,17,18,19,20]โฌ`

ูพุดุชู ุฌุฏุฏ: `โญ[ [7,8,9,10], [1,2,3,12,13,14,15,16,17,18,19,20] ]โฌ`  
ุงูุฏุงุฒูโูุง: `โญ[4, 12]โฌ`

ุจุฑุฑุณ:

โป๏ธ `4 > 12` โ ูุงุฏุฑุณุช โ **ุงุฏุบุงู!**

ุงุฏุบุงู ููุง: `โญ[7,8,9,10]โฌ` + `โญ[1,2,3,12,...]โฌ`  
โ ูพุฑุด: `7 > 2` โ ุงุฏุงูู ุชุง `12` โ ูุฑุงุฑ ุฏูุฏ `7,8,9,10` ูุจู ุงุฒ `12`  
โ ูุชุฌู: `โญ[1,2,3,7,8,9,10,12,13,14,15,16,17,18,19,20]โฌ`

โ ุขุฑุงู ููุง ูุฑุชุจโุดุฏู:  
`โญ[1, 2, 3, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20]โฌ`

> ๐ก ูุฑุชุจโุณุงุฒ ุชู ุงุฒ **ุชุฑุชุจ ููุฌูุฏ** ุจูุฑู ูโุจุฑุฏ โ ุจุฏูู ููุงุณูโูุง ุบุฑุถุฑูุฑ.

---

### ๐ง ฺุฑุง ุงุฒ ูุฑุชุจโุณุงุฒ ุชู ุงุณุชูุงุฏู ฺฉููุ

| ุงูฺฏูุฑุชู | ูพุงุฏุงุฑุ | ุฎูุฏุณุงุฒฺฏุงุฑุ | ุนููฺฉุฑุฏ ุฏูุง ูุงูุน | ุงุณุชูุงุฏู ุฏุฑ |
|---------|--------|----------|-----------------|--------|
| ูุฑุชุจโุณุงุฒ ุณุฑุน | โ ุฎุฑ | โ ุจูู | ุณุฑุน | C, Go |
| ูุฑุชุจโุณุงุฒ ุงุฏุบุงู | โ ุจูู | โ ุฎุฑ | ูุงุจู ูพุดโุจู | ฺฉุชุงุจุฎุงููโูุง |
| **ูุฑุชุจโุณุงุฒ ุชู** | โ ุจูู | โ ุจูู | โญ **ุจูุชุฑู** | **ูพุงุชููุ ุฌุงูุง** |

<br/>

โป๏ธ โ **ูพุงุฏุงุฑ**: ุชุฑุชุจ ุนูุงุตุฑ ุจุฑุงุจุฑ ุฑุง ุญูุธ ูโฺฉูุฏ

โป๏ธ โ **ุฎูุฏุณุงุฒฺฏุงุฑ**: ุฑู ุฏุงุฏูโูุง ุชูุฑุจุงู ูุฑุชุจ ุณุฑุนโุชุฑ ุงุณุช

โป๏ธ โ **ุจููู ุจุฑุง ุฏุงุฏู ูุงูุน**: ุจุง "ูุทุนุงุช ุทุจุน" ฺฉุงุฑ ูโฺฉูุฏ

โป๏ธ โ **ุชุถูู O(n log n)**: ุจุฏูู ุจุฏุชุฑู ุญุงูุช O(nยฒ) ูุซู ูุฑุชุจโุณุงุฒ ุณุฑุน

---

### ๐ ุฎูุงุตู ูุฑุงุญู

| ูุฑุญูู | ูุฏู |
|------:|--------:|
| 1๏ธโฃ ูพุฏุง ฺฉุฑุฏู ูุทุนุงุช | ุชุดุฎุต ุชุฑุชุจ ููุฌูุฏ |
| 2๏ธโฃ ฺฏุณุชุฑุด ูุทุนุงุช ฺฉูุชุงู | ุงุณุชูุงุฏู ุงุฒ ุฏุฑุฌ ุจุฑุง ุฑุณุฏู ุจู `minrun` |
| 3๏ธโฃ ุงุฏุบุงู ุจุง ุดุฑุงุท ูพุดุชู | ุฌููฺฏุฑ ุงุฒ ุงุฏุบุงู ูุงูุชุนุงุฏู |
| 4๏ธโฃ ุงุฏุบุงู ูพุฑุด | ุฑุฏ ฺฉุฑุฏู ุณุฑุน ุนูุงุตุฑ ุฏุฑ ุญู ุงุฏุบุงู |
| 5๏ธโฃ ุงุฏุบุงู ููุง | ุชููุฏ ุฎุฑูุฌ ูุฑุชุจ |

<br />

## ๐ป ูุฑุงุญู ุจุนุฏ

ุฒุจุงู ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุจุฑุง ูุดุงูุฏู ูพุงุฏูโุณุงุฒ ุงูุชุฎุงุจ ฺฉูุฏ:

[Python](/sorting/tim-sort/python/tim_sort.py) | [Java](/sorting/tim-sort/java/TimSort.java) | [JavaScript](/sorting/tim-sort/javascript/tim-sort.js) | [C++](/sorting/tim-sort/C++/tim_sort.cpp) | [C#](/sorting/tim-sort/csharp/TimSort.cs)
